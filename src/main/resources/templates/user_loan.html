<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Apply for Loan</title>

<style>

body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background:  BLACK;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

.container {
    background:#06163b;
    padding: 40px;
    width: 400px;
    border-radius: 15px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    animation: slideUp 0.8s ease;
}

h2 {
    text-align: center;
    color: #1e3c72;
    margin-bottom: 25px;
}

.input-group {
    margin-bottom: 20px;
}

label {
    font-weight: bold;
    font-size: 14px;
    color:gray;
}

input, select {
    width: 100%;
    padding: 8px;
    border-radius: 6px;
    border: 1px solid #ccc;
    margin-top: 5px;
}

input:focus, select:focus {
    outline: none;
    border-color: #1e3c72;
    box-shadow: 0 0 5px rgba(30,60,114,0.5);
}

button {
    width: 100%;
    padding: 10px;
    background: #1e3c72;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.3s;
}

button:hover {
    background: #16335c;
    transform: scale(1.05);
}

.emi-preview {
    background: #f4f6f9;
    padding: 10px;
    border-radius: 6px;
    font-size: 14px;
    margin-bottom: 15px;
    text-align: center;
}

@keyframes slideUp {
    from { transform: translateY(40px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

</style>
</head>

<body>

<div class="container">

<h2>üè¶ Apply for Loan</h2>

<form th:action="@{/user/loan/apply}" method="post">


    <div class="input-group">
        <label>Account Number</label>
        <input type="text" name="accountNumber" required>
    </div>

    <div class="input-group">
        <label>Loan Amount (‚Çπ)</label>
        <input type="number" id="amount" name="amount" required>
    </div>

    <div class="input-group">
        <label>Interest Rate (%)</label>
        <input type="number" id="interest" name="interestRate" value="10" required>
    </div>

    <div class="input-group">
        <label>Tenure (Months)</label>
        <select id="tenure" name="tenureMonths">
            <option value="12">12 Months</option>
            <option value="24">24 Months</option>
            <option value="36">36 Months</option>
            <option value="48">48 Months</option>
            <option value="60">60 Months</option>
        </select>
    </div>

    <div class="emi-preview">
        Estimated EMI: ‚Çπ <span id="emi">0</span>
    </div>

    <button type="submit">Submit Loan Request</button>

</form>

</div>

<script>

function calculateEMI() {

    let principal = parseFloat(document.getElementById("amount").value);
    let annualRate = parseFloat(document.getElementById("interest").value);
    let months = parseInt(document.getElementById("tenure").value);

    if (!principal || !annualRate || !months) {
        document.getElementById("emi").innerText = 0;
        return;
    }

    let monthlyRate = annualRate / 12 / 100;

    let emi = (principal * monthlyRate * Math.pow(1 + monthlyRate, months))
        / (Math.pow(1 + monthlyRate, months) - 1);

    document.getElementById("emi").innerText = emi.toFixed(2);
}

document.getElementById("amount").addEventListener("input", calculateEMI);
document.getElementById("interest").addEventListener("input", calculateEMI);
document.getElementById("tenure").addEventListener("change", calculateEMI);

</script>

</body>
</html>
